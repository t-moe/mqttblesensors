<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MQTT C Client Libraries Internals: MQTTPacket.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pahologo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MQTT C Client Libraries Internals
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">MQTTPacket.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>functions to deal with reading and writing of MQTT packets from and to sockets  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;MQTTPacket.h&quot;</code><br />
<code>#include &quot;Log.h&quot;</code><br />
<code>#include &quot;MQTTPersistence.h&quot;</code><br />
<code>#include &quot;Messages.h&quot;</code><br />
<code>#include &quot;StackTrace.h&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;Heap.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MQTTPacket.c:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c__incl.png" border="0" usemap="#MQTTPacket_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2d017cd3beb218080a7988e2deed2a11"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d017cd3beb218080a7988e2deed2a11"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>min</b>(A, B)&#160;&#160;&#160;( (A) &lt; (B) ? (A):(B))</td></tr>
<tr class="separator:a2d017cd3beb218080a7988e2deed2a11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166c9117b1ef3db3292d475f300ca560"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a166c9117b1ef3db3292d475f300ca560"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MAX_NO_OF_REMAINING_LENGTH_BYTES</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a166c9117b1ef3db3292d475f300ca560"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0004ab0d3ca6f7c7118dd3fae08459e6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a0004ab0d3ca6f7c7118dd3fae08459e6">MQTTPacket_name</a> (int ptype)</td></tr>
<tr class="memdesc:a0004ab0d3ca6f7c7118dd3fae08459e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts an MQTT packet code into its name.  <a href="#a0004ab0d3ca6f7c7118dd3fae08459e6">More...</a><br /></td></tr>
<tr class="separator:a0004ab0d3ca6f7c7118dd3fae08459e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fca85006e4ba29e9bc6beaa97f3354f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a3fca85006e4ba29e9bc6beaa97f3354f">MQTTPacket_Factory</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, int *error)</td></tr>
<tr class="memdesc:a3fca85006e4ba29e9bc6beaa97f3354f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one MQTT packet from a socket.  <a href="#a3fca85006e4ba29e9bc6beaa97f3354f">More...</a><br /></td></tr>
<tr class="separator:a3fca85006e4ba29e9bc6beaa97f3354f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561ff1cb747d27795d1f4fd985e78588"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588">MQTTPacket_send</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, <a class="el" href="unionHeader.html">Header</a> header, char *buffer, size_t buflen, int free)</td></tr>
<tr class="memdesc:a561ff1cb747d27795d1f4fd985e78588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an MQTT packet in one system call write.  <a href="#a561ff1cb747d27795d1f4fd985e78588">More...</a><br /></td></tr>
<tr class="separator:a561ff1cb747d27795d1f4fd985e78588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb26c661ace84258675839c3d71a4820"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#acb26c661ace84258675839c3d71a4820">MQTTPacket_sends</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, <a class="el" href="unionHeader.html">Header</a> header, int count, char **buffers, size_t *buflens, int *frees)</td></tr>
<tr class="memdesc:acb26c661ace84258675839c3d71a4820"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends an MQTT packet from multiple buffers in one system call write.  <a href="#acb26c661ace84258675839c3d71a4820">More...</a><br /></td></tr>
<tr class="separator:acb26c661ace84258675839c3d71a4820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadd77a4fa1b2d5c7791e3542c56af856"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856">MQTTPacket_encode</a> (char *buf, size_t length)</td></tr>
<tr class="memdesc:aadd77a4fa1b2d5c7791e3542c56af856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes the message length according to the MQTT algorithm.  <a href="#aadd77a4fa1b2d5c7791e3542c56af856">More...</a><br /></td></tr>
<tr class="separator:aadd77a4fa1b2d5c7791e3542c56af856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f61e571640513a9785b3164141dfbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ac1f61e571640513a9785b3164141dfbc">MQTTPacket_decode</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, size_t *value)</td></tr>
<tr class="memdesc:ac1f61e571640513a9785b3164141dfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the message length according to the MQTT algorithm.  <a href="#ac1f61e571640513a9785b3164141dfbc">More...</a><br /></td></tr>
<tr class="separator:ac1f61e571640513a9785b3164141dfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132d2d5b304d37cd2348a973f7b315de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de">readInt</a> (char **pptr)</td></tr>
<tr class="memdesc:a132d2d5b304d37cd2348a973f7b315de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates an integer from two bytes read from the input buffer.  <a href="#a132d2d5b304d37cd2348a973f7b315de">More...</a><br /></td></tr>
<tr class="separator:a132d2d5b304d37cd2348a973f7b315de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b6dabc1d021ae4b2ca3d2f8885731d"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a53b6dabc1d021ae4b2ca3d2f8885731d">readUTFlen</a> (char **pptr, char *enddata, int *<a class="el" href="utf-8_8c.html#afed088663f8704004425cdae2120b9b3">len</a>)</td></tr>
<tr class="memdesc:a53b6dabc1d021ae4b2ca3d2f8885731d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a "UTF" string from the input buffer.  <a href="#a53b6dabc1d021ae4b2ca3d2f8885731d">More...</a><br /></td></tr>
<tr class="separator:a53b6dabc1d021ae4b2ca3d2f8885731d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca3afbe588ae7e6f342c5a697e4ee45"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#adca3afbe588ae7e6f342c5a697e4ee45">readUTF</a> (char **pptr, char *enddata)</td></tr>
<tr class="memdesc:adca3afbe588ae7e6f342c5a697e4ee45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a "UTF" string from the input buffer.  <a href="#adca3afbe588ae7e6f342c5a697e4ee45">More...</a><br /></td></tr>
<tr class="separator:adca3afbe588ae7e6f342c5a697e4ee45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1d10b221f5b4ce421b4c2588cbe511"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aff1d10b221f5b4ce421b4c2588cbe511">readChar</a> (char **pptr)</td></tr>
<tr class="memdesc:aff1d10b221f5b4ce421b4c2588cbe511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one character from the input buffer.  <a href="#aff1d10b221f5b4ce421b4c2588cbe511">More...</a><br /></td></tr>
<tr class="separator:aff1d10b221f5b4ce421b4c2588cbe511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29ec8b2fbf0ec0195621b44f8945923"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ad29ec8b2fbf0ec0195621b44f8945923">writeChar</a> (char **pptr, char c)</td></tr>
<tr class="memdesc:ad29ec8b2fbf0ec0195621b44f8945923"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one character to an output buffer.  <a href="#ad29ec8b2fbf0ec0195621b44f8945923">More...</a><br /></td></tr>
<tr class="separator:ad29ec8b2fbf0ec0195621b44f8945923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07aa0146eda3d32979142e7df8ad5fc3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3">writeInt</a> (char **pptr, int anInt)</td></tr>
<tr class="memdesc:a07aa0146eda3d32979142e7df8ad5fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an integer as 2 bytes to an output buffer.  <a href="#a07aa0146eda3d32979142e7df8ad5fc3">More...</a><br /></td></tr>
<tr class="separator:a07aa0146eda3d32979142e7df8ad5fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fcaa11ac05ce448a433a53f9cae420"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#af0fcaa11ac05ce448a433a53f9cae420">writeUTF</a> (char **pptr, const char *string)</td></tr>
<tr class="memdesc:af0fcaa11ac05ce448a433a53f9cae420"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a "UTF" string to an output buffer.  <a href="#af0fcaa11ac05ce448a433a53f9cae420">More...</a><br /></td></tr>
<tr class="separator:af0fcaa11ac05ce448a433a53f9cae420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a612027487242fa6202caf62b500c9329"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a612027487242fa6202caf62b500c9329">MQTTPacket_header_only</a> (unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a612027487242fa6202caf62b500c9329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create packets which have only a header.  <a href="#a612027487242fa6202caf62b500c9329">More...</a><br /></td></tr>
<tr class="separator:a612027487242fa6202caf62b500c9329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e22843e117bd01f1a80ace54777e06"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a78e22843e117bd01f1a80ace54777e06">MQTTPacket_send_disconnect</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a78e22843e117bd01f1a80ace54777e06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT disconnect packet down a socket.  <a href="#a78e22843e117bd01f1a80ace54777e06">More...</a><br /></td></tr>
<tr class="separator:a78e22843e117bd01f1a80ace54777e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28c67e2b2543ca034289a4fdd52a0844"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a28c67e2b2543ca034289a4fdd52a0844">MQTTPacket_publish</a> (unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a28c67e2b2543ca034289a4fdd52a0844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create publish packets.  <a href="#a28c67e2b2543ca034289a4fdd52a0844">More...</a><br /></td></tr>
<tr class="separator:a28c67e2b2543ca034289a4fdd52a0844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a642e5f62d21f14e81f8fc70b491d89c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a642e5f62d21f14e81f8fc70b491d89c8">MQTTPacket_freePublish</a> (<a class="el" href="structPublish.html">Publish</a> *pack)</td></tr>
<tr class="memdesc:a642e5f62d21f14e81f8fc70b491d89c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a publish packet.  <a href="#a642e5f62d21f14e81f8fc70b491d89c8">More...</a><br /></td></tr>
<tr class="separator:a642e5f62d21f14e81f8fc70b491d89c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa33105a40c9fd30b48ae4cc02f3a6858"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#aa33105a40c9fd30b48ae4cc02f3a6858">MQTTPacket_send_ack</a> (int type, int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net)</td></tr>
<tr class="memdesc:aa33105a40c9fd30b48ae4cc02f3a6858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT acknowledgement packet down a socket.  <a href="#aa33105a40c9fd30b48ae4cc02f3a6858">More...</a><br /></td></tr>
<tr class="separator:aa33105a40c9fd30b48ae4cc02f3a6858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0181da6655af7329efcd989484776e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ad0181da6655af7329efcd989484776e0">MQTTPacket_send_puback</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:ad0181da6655af7329efcd989484776e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBACK packet down a socket.  <a href="#ad0181da6655af7329efcd989484776e0">More...</a><br /></td></tr>
<tr class="separator:ad0181da6655af7329efcd989484776e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4262b8f35885dc123f59268fb74cec3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a4262b8f35885dc123f59268fb74cec3d">MQTTPacket_freeSuback</a> (<a class="el" href="structSuback.html">Suback</a> *pack)</td></tr>
<tr class="memdesc:a4262b8f35885dc123f59268fb74cec3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a suback packet.  <a href="#a4262b8f35885dc123f59268fb74cec3d">More...</a><br /></td></tr>
<tr class="separator:a4262b8f35885dc123f59268fb74cec3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61a22eff19828e80c3d6197096ddc5d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#ab61a22eff19828e80c3d6197096ddc5d">MQTTPacket_send_pubrec</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:ab61a22eff19828e80c3d6197096ddc5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBREC packet down a socket.  <a href="#ab61a22eff19828e80c3d6197096ddc5d">More...</a><br /></td></tr>
<tr class="separator:ab61a22eff19828e80c3d6197096ddc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378b9a71a545569a3a6b1ae815585718"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a378b9a71a545569a3a6b1ae815585718">MQTTPacket_send_pubrel</a> (int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a378b9a71a545569a3a6b1ae815585718"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBREL packet down a socket.  <a href="#a378b9a71a545569a3a6b1ae815585718">More...</a><br /></td></tr>
<tr class="separator:a378b9a71a545569a3a6b1ae815585718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d225421309b20ba8fec3dcc91b0d97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a23d225421309b20ba8fec3dcc91b0d97">MQTTPacket_send_pubcomp</a> (int msgid, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a23d225421309b20ba8fec3dcc91b0d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBCOMP packet down a socket.  <a href="#a23d225421309b20ba8fec3dcc91b0d97">More...</a><br /></td></tr>
<tr class="separator:a23d225421309b20ba8fec3dcc91b0d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319cae61d71c918ec11e53da1120429f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a> (unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a319cae61d71c918ec11e53da1120429f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create acknowledgement packets.  <a href="#a319cae61d71c918ec11e53da1120429f">More...</a><br /></td></tr>
<tr class="separator:a319cae61d71c918ec11e53da1120429f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a9ebcf93ff2ba3bd103f016c975e9c9c4">MQTTPacket_send_publish</a> (<a class="el" href="structPublish.html">Publish</a> *pack, int dup, int qos, int retained, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PUBLISH packet down a socket.  <a href="#a9ebcf93ff2ba3bd103f016c975e9c9c4">More...</a><br /></td></tr>
<tr class="separator:a9ebcf93ff2ba3bd103f016c975e9c9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a28f1754fe1f090d54bc3b5687fb2dd8c">MQTTPacket_free_packet</a> (<a class="el" href="structMQTTPacket.html">MQTTPacket</a> *pack)</td></tr>
<tr class="memdesc:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free allocated storage for a various packet tyoes.  <a href="#a28f1754fe1f090d54bc3b5687fb2dd8c">More...</a><br /></td></tr>
<tr class="separator:a28f1754fe1f090d54bc3b5687fb2dd8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:adb1445ce2f1493e1fb728e2adce62c63"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#adb1445ce2f1493e1fb728e2adce62c63">packet_names</a> []</td></tr>
<tr class="memdesc:adb1445ce2f1493e1fb728e2adce62c63"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structList.html" title="Structure to hold all data for one list. ">List</a> of the predefined MQTT v3 packet names.  <a href="#adb1445ce2f1493e1fb728e2adce62c63">More...</a><br /></td></tr>
<tr class="separator:adb1445ce2f1493e1fb728e2adce62c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b3d7cf9089a70c61352dce8f972734"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43b3d7cf9089a70c61352dce8f972734"></a>
char **&#160;</td><td class="memItemRight" valign="bottom"><b>MQTTClient_packet_names</b> = <a class="el" href="MQTTPacket_8c.html#adb1445ce2f1493e1fb728e2adce62c63">packet_names</a></td></tr>
<tr class="separator:a43b3d7cf9089a70c61352dce8f972734"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210a7b616c27aa7247824022285da784"><td class="memItemLeft" align="right" valign="top">pf&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacket_8c.html#a210a7b616c27aa7247824022285da784">new_packets</a> []</td></tr>
<tr class="memdesc:a210a7b616c27aa7247824022285da784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Array of functions to build packets, indexed according to packet code.  <a href="#a210a7b616c27aa7247824022285da784">More...</a><br /></td></tr>
<tr class="separator:a210a7b616c27aa7247824022285da784"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>functions to deal with reading and writing of MQTT packets from and to sockets </p>
<p>Some other related functions are in the MQTTPacketOut module </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a319cae61d71c918ec11e53da1120429f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_ack </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create acknowledgement packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a319cae61d71c918ec11e53da1120429f_cgraph.png" border="0" usemap="#MQTTPacket_8c_a319cae61d71c918ec11e53da1120429f_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a319cae61d71c918ec11e53da1120429f_cgraph" id="MQTTPacket_8c_a319cae61d71c918ec11e53da1120429f_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="181,5,248,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac1f61e571640513a9785b3164141dfbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes the message length according to the MQTT algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket from which to read the bytes </td></tr>
    <tr><td class="paramname">value</td><td>the decoded length returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes read from the socket </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ac1f61e571640513a9785b3164141dfbc_cgraph.png" border="0" usemap="#MQTTPacket_8c_ac1f61e571640513a9785b3164141dfbc_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ac1f61e571640513a9785b3164141dfbc_cgraph" id="MQTTPacket_8c_ac1f61e571640513a9785b3164141dfbc_cgraph">
<area shape="rect" id="node2" href="Socket_8c.html#a9af02601f6b5ef066ba99d9498a024b8" title="Reads one byte from a socket. " alt="" coords="207,132,316,159"/><area shape="rect" id="node3" href="SocketBuffer_8c.html#a08102e2e43746ccd1ab26739b5841a7c" title="Get any queued character for a specific socket. " alt="" coords="364,107,576,133"/><area shape="rect" id="node11" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="418,56,522,83"/><area shape="rect" id="node12" href="SocketBuffer_8c.html#aaac8b43c1ab5d20eb8e6b95de6e80671" title="A socket read was interrupted so we need to queue data. " alt="" coords="379,208,561,235"/><area shape="rect" id="node16" href="SocketBuffer_8c.html#a8a94cbb0db8ba0834a7f1c6e2eb938b4" title="A socket operation had now completed so we can get rid of the queue. " alt="" coords="379,157,561,184"/><area shape="rect" id="node4" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="659,157,757,184"/><area shape="rect" id="node6" href="SocketBuffer_8c.html#acebc1cbb93be4588f33b04ed404f6dbf" title="List callback function for comparing socket_queues by socket. " alt="" coords="647,107,769,133"/><area shape="rect" id="node7" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="685,56,731,83"/><area shape="rect" id="node5" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="858,157,985,184"/><area shape="rect" id="node8" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="848,5,995,32"/><area shape="rect" id="node9" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="864,56,979,83"/><area shape="rect" id="node10" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="840,107,1003,133"/><area shape="rect" id="node13" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="661,259,755,285"/><area shape="rect" id="node15" href="SocketBuffer_8c.html#a29a5ad8468a4fc6de64a01081239f120" title="Create a new default queue when one has just been used. " alt="" coords="624,208,792,235"/><area shape="rect" id="node14" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="846,259,997,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aadd77a4fa1b2d5c7791e3542c56af856"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_encode </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes the message length according to the MQTT algorithm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>the buffer into which the encoded data is written </td></tr>
    <tr><td class="paramname">length</td><td>the length to be encoded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the number of bytes written to buffer </dd></dl>

</div>
</div>
<a class="anchor" id="a3fca85006e4ba29e9bc6beaa97f3354f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_Factory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one MQTT packet from a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>a socket from which to read an MQTT packet </td></tr>
    <tr><td class="paramname">error</td><td>pointer to the error code which is completed if no packet is returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the packet structure or NULL if there was an error </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a3fca85006e4ba29e9bc6beaa97f3354f_cgraph.png" border="0" usemap="#MQTTPacket_8c_a3fca85006e4ba29e9bc6beaa97f3354f_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a3fca85006e4ba29e9bc6beaa97f3354f_cgraph" id="MQTTPacket_8c_a3fca85006e4ba29e9bc6beaa97f3354f_cgraph">
<area shape="rect" id="node2" href="Socket_8c.html#a9af02601f6b5ef066ba99d9498a024b8" title="Reads one byte from a socket. " alt="" coords="443,183,552,209"/><area shape="rect" id="node7" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="953,56,999,83"/><area shape="rect" id="node17" href="MQTTPacket_8c.html#ac1f61e571640513a9785b3164141dfbc" title="Decodes the message length according to the MQTT algorithm. " alt="" coords="208,157,361,184"/><area shape="rect" id="node18" href="Socket_8c.html#a88b3b91a40c7bd0b01e3c97f1011a75e" title="Attempts to read a number of bytes from a socket, non&#45;blocking. " alt="" coords="223,259,346,285"/><area shape="rect" id="node24" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="208,309,361,336"/><area shape="rect" id="node25" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="205,487,364,513"/><area shape="rect" id="node3" href="SocketBuffer_8c.html#a08102e2e43746ccd1ab26739b5841a7c" title="Get any queued character for a specific socket. " alt="" coords="631,157,843,184"/><area shape="rect" id="node11" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="685,107,789,133"/><area shape="rect" id="node12" href="SocketBuffer_8c.html#aaac8b43c1ab5d20eb8e6b95de6e80671" title="A socket read was interrupted so we need to queue data. " alt="" coords="646,259,829,285"/><area shape="rect" id="node16" href="SocketBuffer_8c.html#a8a94cbb0db8ba0834a7f1c6e2eb938b4" title="A socket operation had now completed so we can get rid of the queue. " alt="" coords="647,208,828,235"/><area shape="rect" id="node4" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="1140,411,1239,437"/><area shape="rect" id="node6" href="SocketBuffer_8c.html#acebc1cbb93be4588f33b04ed404f6dbf" title="List callback function for comparing socket_queues by socket. " alt="" coords="915,309,1037,336"/><area shape="rect" id="node5" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1319,411,1445,437"/><area shape="rect" id="node8" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1116,107,1263,133"/><area shape="rect" id="node9" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1132,5,1247,32"/><area shape="rect" id="node10" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1108,56,1271,83"/><area shape="rect" id="node13" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="929,208,1023,235"/><area shape="rect" id="node15" href="SocketBuffer_8c.html#a29a5ad8468a4fc6de64a01081239f120" title="Create a new default queue when one has just been used. " alt="" coords="892,259,1060,285"/><area shape="rect" id="node14" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1114,208,1265,235"/><area shape="rect" id="node19" href="SocketBuffer_8c.html#a0d007b15408ae802c78bc69f115cf91e" title="A socket read has now completed so we can get rid of the queue. " alt="" coords="412,411,583,437"/><area shape="rect" id="node23" href="SocketBuffer_8c.html#a8a2e0c916232521098ff734d556c3b68" title="Get any queued data for a specific socket. " alt="" coords="631,360,844,387"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#acb4511a3a4767187a2607027aff718b8" title="Free the default queue memory. " alt="" coords="653,461,821,488"/><area shape="rect" id="node21" href="LinkedList_8c.html#ab2bcc1897abf1d98490ea81c474dba52" title="Removes but does not free an item in a list by comparing the pointer to the content. " alt="" coords="692,411,783,437"/><area shape="rect" id="node22" href="LinkedList_8c.html#a7c3ca6a923cf771a5e68b25047d3df42" title="Removes and optionally frees an element in a list by comparing the content. " alt="" coords="935,461,1017,488"/><area shape="rect" id="node26" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="418,487,577,513"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a28f1754fe1f090d54bc3b5687fb2dd8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_free_packet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMQTTPacket.html">MQTTPacket</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a various packet tyoes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the suback packet structure </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph.png" border="0" usemap="#MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph" id="MQTTPacket_8c_a28f1754fe1f090d54bc3b5687fb2dd8c_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a642e5f62d21f14e81f8fc70b491d89c8" title="Free allocated storage for a publish packet. " alt="" coords="235,5,411,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a642e5f62d21f14e81f8fc70b491d89c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freePublish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPublish.html">Publish</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a publish packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the publish packet structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4262b8f35885dc123f59268fb74cec3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MQTTPacket_freeSuback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSuback.html">Suback</a> *&#160;</td>
          <td class="paramname"><em>pack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free allocated storage for a suback packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>pointer to the suback packet structure </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph.png" border="0" usemap="#MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph" id="MQTTPacket_8c_a4262b8f35885dc123f59268fb74cec3d_cgraph">
<area shape="rect" id="node2" href="LinkedList_8c.html#a276950531b3f54e0dda27d597572c192" title="Removes and frees all items in a list, and frees the list itself. " alt="" coords="232,5,303,32"/><area shape="rect" id="node3" href="LinkedList_8c.html#a3cf8578dba23f97dd0411e85fe3b7ff2" title="Removes and frees all items in a list, leaving the list ready for new items. " alt="" coords="351,5,436,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a612027487242fa6202caf62b500c9329"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_header_only </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create packets which have only a header. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

</div>
</div>
<a class="anchor" id="a0004ab0d3ca6f7c7118dd3fae08459e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* MQTTPacket_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ptype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts an MQTT packet code into its name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptype</td><td>packet code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the corresponding string, or "UNKNOWN" </dd></dl>

</div>
</div>
<a class="anchor" id="a28c67e2b2543ca034289a4fdd52a0844"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_publish </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create publish packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a28c67e2b2543ca034289a4fdd52a0844_cgraph.png" border="0" usemap="#MQTTPacket_8c_a28c67e2b2543ca034289a4fdd52a0844_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a28c67e2b2543ca034289a4fdd52a0844_cgraph" id="MQTTPacket_8c_a28c67e2b2543ca034289a4fdd52a0844_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a53b6dabc1d021ae4b2ca3d2f8885731d" title="Reads a &quot;UTF&quot; string from the input buffer. " alt="" coords="204,5,299,32"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="347,31,413,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a561ff1cb747d27795d1f4fd985e78588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionHeader.html">Header</a>&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>free</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an MQTT packet in one system call write. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket to which to write the data </td></tr>
    <tr><td class="paramname">header</td><td>the one-byte MQTT header </td></tr>
    <tr><td class="paramname">buffer</td><td>the rest of the buffer to write (not including remaining length) </td></tr>
    <tr><td class="paramname">buflen</td><td>the length of the data in buffer to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (TCPSOCKET_COMPLETE etc) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a561ff1cb747d27795d1f4fd985e78588_cgraph.png" border="0" usemap="#MQTTPacket_8c_a561ff1cb747d27795d1f4fd985e78588_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a561ff1cb747d27795d1f4fd985e78588_cgraph" id="MQTTPacket_8c_a561ff1cb747d27795d1f4fd985e78588_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="193,5,347,32"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="237,56,303,83"/><area shape="rect" id="node4" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="191,107,349,133"/><area shape="rect" id="node8" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="205,233,335,260"/><area shape="rect" id="node5" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="641,81,740,108"/><area shape="rect" id="node7" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="415,107,573,133"/><area shape="rect" id="node6" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="803,81,929,108"/><area shape="rect" id="node9" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="405,157,583,184"/><area shape="rect" id="node11" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="843,233,889,260"/><area shape="rect" id="node15" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="439,259,549,285"/><area shape="rect" id="node17" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="397,309,591,336"/><area shape="rect" id="node18" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="644,335,737,361"/><area shape="rect" id="node10" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="643,157,738,184"/><area shape="rect" id="node12" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="997,183,1144,209"/><area shape="rect" id="node13" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1013,233,1128,260"/><area shape="rect" id="node14" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="989,284,1152,311"/><area shape="rect" id="node16" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="639,259,743,285"/><area shape="rect" id="node19" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="791,335,941,361"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa33105a40c9fd30b48ae4cc02f3a6858"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_ack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT acknowledgement packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>the MQTT packet type e.g. SUBACK </td></tr>
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">net</td><td>the network handle to send the data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_aa33105a40c9fd30b48ae4cc02f3a6858_cgraph.png" border="0" usemap="#MQTTPacket_8c_aa33105a40c9fd30b48ae4cc02f3a6858_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_aa33105a40c9fd30b48ae4cc02f3a6858_cgraph" id="MQTTPacket_8c_aa33105a40c9fd30b48ae4cc02f3a6858_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="255,31,323,57"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="220,81,357,108"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="408,5,561,32"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="451,56,518,83"/><area shape="rect" id="node6" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="405,107,564,133"/><area shape="rect" id="node10" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="419,233,550,260"/><area shape="rect" id="node7" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="856,81,955,108"/><area shape="rect" id="node9" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="629,107,788,133"/><area shape="rect" id="node8" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1017,81,1144,108"/><area shape="rect" id="node11" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="619,157,798,184"/><area shape="rect" id="node13" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1058,233,1103,260"/><area shape="rect" id="node17" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="653,259,764,285"/><area shape="rect" id="node19" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="612,309,805,336"/><area shape="rect" id="node20" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="859,335,952,361"/><area shape="rect" id="node12" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="858,157,953,184"/><area shape="rect" id="node14" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1212,183,1359,209"/><area shape="rect" id="node15" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1228,233,1343,260"/><area shape="rect" id="node16" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1204,284,1367,311"/><area shape="rect" id="node18" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="853,259,957,285"/><area shape="rect" id="node21" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1005,335,1156,361"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78e22843e117bd01f1a80ace54777e06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT disconnect packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a78e22843e117bd01f1a80ace54777e06_cgraph.png" border="0" usemap="#MQTTPacket_8c_a78e22843e117bd01f1a80ace54777e06_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a78e22843e117bd01f1a80ace54777e06_cgraph" id="MQTTPacket_8c_a78e22843e117bd01f1a80ace54777e06_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="267,233,404,260"/><area shape="rect" id="node12" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1105,284,1150,311"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="455,233,608,260"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="498,284,565,311"/><area shape="rect" id="node5" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="452,31,611,57"/><area shape="rect" id="node9" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="466,183,597,209"/><area shape="rect" id="node6" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="903,5,1001,32"/><area shape="rect" id="node8" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="676,31,835,57"/><area shape="rect" id="node7" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1064,5,1191,32"/><area shape="rect" id="node10" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="666,81,845,108"/><area shape="rect" id="node16" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="700,233,811,260"/><area shape="rect" id="node18" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="659,183,852,209"/><area shape="rect" id="node19" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="905,157,999,184"/><area shape="rect" id="node11" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="905,81,999,108"/><area shape="rect" id="node13" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1259,233,1405,260"/><area shape="rect" id="node14" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1275,284,1389,311"/><area shape="rect" id="node15" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1251,335,1413,361"/><area shape="rect" id="node17" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="900,233,1004,260"/><area shape="rect" id="node20" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1052,157,1203,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad0181da6655af7329efcd989484776e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_puback </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBACK packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph.png" border="0" usemap="#MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph" id="MQTTPacket_8c_ad0181da6655af7329efcd989484776e0_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aa33105a40c9fd30b48ae4cc02f3a6858" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="244,284,411,311"/><area shape="rect" id="node14" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1297,183,1342,209"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="493,284,561,311"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="459,233,596,260"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="647,284,800,311"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="690,233,757,260"/><area shape="rect" id="node7" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="644,31,803,57"/><area shape="rect" id="node11" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="658,183,789,209"/><area shape="rect" id="node8" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="1095,5,1193,32"/><area shape="rect" id="node10" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="868,31,1027,57"/><area shape="rect" id="node9" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1256,5,1383,32"/><area shape="rect" id="node12" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="858,81,1037,108"/><area shape="rect" id="node18" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="892,183,1003,209"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="851,233,1044,260"/><area shape="rect" id="node21" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="1097,259,1191,285"/><area shape="rect" id="node13" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="1097,81,1191,108"/><area shape="rect" id="node15" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1451,132,1597,159"/><area shape="rect" id="node16" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1467,183,1581,209"/><area shape="rect" id="node17" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1443,233,1605,260"/><area shape="rect" id="node19" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="1092,183,1196,209"/><area shape="rect" id="node22" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1244,259,1395,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23d225421309b20ba8fec3dcc91b0d97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubcomp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBCOMP packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph.png" border="0" usemap="#MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph" id="MQTTPacket_8c_a23d225421309b20ba8fec3dcc91b0d97_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aa33105a40c9fd30b48ae4cc02f3a6858" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="257,284,424,311"/><area shape="rect" id="node14" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1310,183,1355,209"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="507,284,575,311"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="472,233,609,260"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="660,284,813,311"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="703,233,770,260"/><area shape="rect" id="node7" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="657,31,816,57"/><area shape="rect" id="node11" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="671,183,802,209"/><area shape="rect" id="node8" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="1108,5,1207,32"/><area shape="rect" id="node10" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="881,31,1040,57"/><area shape="rect" id="node9" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1269,5,1396,32"/><area shape="rect" id="node12" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="871,81,1050,108"/><area shape="rect" id="node18" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="905,183,1016,209"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="864,233,1057,260"/><area shape="rect" id="node21" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="1111,259,1204,285"/><area shape="rect" id="node13" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="1110,81,1205,108"/><area shape="rect" id="node15" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1464,132,1611,159"/><area shape="rect" id="node16" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1480,183,1595,209"/><area shape="rect" id="node17" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1456,233,1619,260"/><area shape="rect" id="node19" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="1105,183,1209,209"/><area shape="rect" id="node22" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1257,259,1408,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ebcf93ff2ba3bd103f016c975e9c9c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPublish.html">Publish</a> *&#160;</td>
          <td class="paramname"><em>pack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retained</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBLISH packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pack</td><td>a structure from which to get some values to use, e.g topic, payload </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">qos</td><td>the value to use for the MQTT QoS setting </td></tr>
    <tr><td class="paramname">retained</td><td>boolean - whether to set the MQTT retained flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph.png" border="0" usemap="#MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph" id="MQTTPacket_8c_a9ebcf93ff2ba3bd103f016c975e9c9c4_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="281,183,349,209"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#acb26c661ace84258675839c3d71a4820" title="Sends an MQTT packet from multiple buffers in one system call write. " alt="" coords="243,233,387,260"/><area shape="rect" id="node13" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1087,284,1133,311"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="437,233,591,260"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="481,284,547,311"/><area shape="rect" id="node6" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="435,31,593,57"/><area shape="rect" id="node10" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="449,183,579,209"/><area shape="rect" id="node7" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="885,5,984,32"/><area shape="rect" id="node9" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="659,31,817,57"/><area shape="rect" id="node8" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1047,5,1173,32"/><area shape="rect" id="node11" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="649,81,827,108"/><area shape="rect" id="node17" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="683,233,793,260"/><area shape="rect" id="node19" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="641,183,835,209"/><area shape="rect" id="node20" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="888,157,981,184"/><area shape="rect" id="node12" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="887,81,982,108"/><area shape="rect" id="node14" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1241,233,1388,260"/><area shape="rect" id="node15" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1257,284,1372,311"/><area shape="rect" id="node16" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1233,335,1396,361"/><area shape="rect" id="node18" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="883,233,987,260"/><area shape="rect" id="node21" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1035,157,1185,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab61a22eff19828e80c3d6197096ddc5d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubrec </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBREC packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph.png" border="0" usemap="#MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph" id="MQTTPacket_8c_ab61a22eff19828e80c3d6197096ddc5d_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aa33105a40c9fd30b48ae4cc02f3a6858" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="241,284,408,311"/><area shape="rect" id="node14" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1294,183,1339,209"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="491,284,559,311"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="456,233,593,260"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="644,284,797,311"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="687,233,754,260"/><area shape="rect" id="node7" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="641,31,800,57"/><area shape="rect" id="node11" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="655,183,786,209"/><area shape="rect" id="node8" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="1092,5,1191,32"/><area shape="rect" id="node10" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="865,31,1024,57"/><area shape="rect" id="node9" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1253,5,1380,32"/><area shape="rect" id="node12" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="855,81,1034,108"/><area shape="rect" id="node18" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="889,183,1000,209"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="848,233,1041,260"/><area shape="rect" id="node21" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="1095,259,1188,285"/><area shape="rect" id="node13" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="1094,81,1189,108"/><area shape="rect" id="node15" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1448,132,1595,159"/><area shape="rect" id="node16" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1464,183,1579,209"/><area shape="rect" id="node17" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1440,233,1603,260"/><area shape="rect" id="node19" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="1089,183,1193,209"/><area shape="rect" id="node22" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1241,259,1392,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a378b9a71a545569a3a6b1ae815585718"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pubrel </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PUBREL packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph.png" border="0" usemap="#MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph" id="MQTTPacket_8c_a378b9a71a545569a3a6b1ae815585718_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aa33105a40c9fd30b48ae4cc02f3a6858" title="Send an MQTT acknowledgement packet down a socket. " alt="" coords="237,284,404,311"/><area shape="rect" id="node14" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1290,183,1335,209"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="487,284,555,311"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="452,233,589,260"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="640,284,793,311"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="683,233,750,260"/><area shape="rect" id="node7" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="637,31,796,57"/><area shape="rect" id="node11" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="651,183,782,209"/><area shape="rect" id="node8" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="1088,5,1187,32"/><area shape="rect" id="node10" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="861,31,1020,57"/><area shape="rect" id="node9" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1249,5,1376,32"/><area shape="rect" id="node12" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="851,81,1030,108"/><area shape="rect" id="node18" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="885,183,996,209"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="844,233,1037,260"/><area shape="rect" id="node21" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="1091,259,1184,285"/><area shape="rect" id="node13" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="1090,81,1185,108"/><area shape="rect" id="node15" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1444,132,1591,159"/><area shape="rect" id="node16" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1460,183,1575,209"/><area shape="rect" id="node17" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1436,233,1599,260"/><area shape="rect" id="node19" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="1085,183,1189,209"/><area shape="rect" id="node22" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1237,259,1388,285"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb26c661ace84258675839c3d71a4820"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_sends </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionHeader.html">Header</a>&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>buffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>buflens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>frees</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends an MQTT packet from multiple buffers in one system call write. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the socket to which to write the data </td></tr>
    <tr><td class="paramname">header</td><td>the one-byte MQTT header </td></tr>
    <tr><td class="paramname">count</td><td>the number of buffers </td></tr>
    <tr><td class="paramname">buffers</td><td>the rest of the buffers to write (not including remaining length) </td></tr>
    <tr><td class="paramname">buflens</td><td>the lengths of the data in the array of buffers to be written </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (TCPSOCKET_COMPLETE etc) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_acb26c661ace84258675839c3d71a4820_cgraph.png" border="0" usemap="#MQTTPacket_8c_acb26c661ace84258675839c3d71a4820_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_acb26c661ace84258675839c3d71a4820_cgraph" id="MQTTPacket_8c_acb26c661ace84258675839c3d71a4820_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="200,5,353,32"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="243,56,310,83"/><area shape="rect" id="node4" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="197,107,356,133"/><area shape="rect" id="node8" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="211,233,342,260"/><area shape="rect" id="node5" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="648,81,747,108"/><area shape="rect" id="node7" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="421,107,580,133"/><area shape="rect" id="node6" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="809,81,936,108"/><area shape="rect" id="node9" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="411,157,590,184"/><area shape="rect" id="node11" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="850,233,895,260"/><area shape="rect" id="node15" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="445,259,556,285"/><area shape="rect" id="node17" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="404,309,597,336"/><area shape="rect" id="node18" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="651,335,744,361"/><area shape="rect" id="node10" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="650,157,745,184"/><area shape="rect" id="node12" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1004,183,1151,209"/><area shape="rect" id="node13" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1020,233,1135,260"/><area shape="rect" id="node14" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="996,284,1159,311"/><area shape="rect" id="node16" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="645,259,749,285"/><area shape="rect" id="node19" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="797,335,948,361"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff1d10b221f5b4ce421b4c2588cbe511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char readChar </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one character from the input buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the character read </dd></dl>

</div>
</div>
<a class="anchor" id="a132d2d5b304d37cd2348a973f7b315de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readInt </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates an integer from two bytes read from the input buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the integer value calculated </dd></dl>

</div>
</div>
<a class="anchor" id="adca3afbe588ae7e6f342c5a697e4ee45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* readUTF </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>enddata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a "UTF" string from the input buffer. </p>
<p>UTF as in the MQTT v3 spec which really means a length delimited string. So it reads the two byte length then the data according to that length. The end of the buffer is provided too, so we can prevent buffer overruns caused by an incorrect length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">enddata</td><td>pointer to the end of the buffer not to be read beyond </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an allocated C string holding the characters read, or NULL if the length read would have caused an overrun. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph.png" border="0" usemap="#MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph" id="MQTTPacket_8c_adca3afbe588ae7e6f342c5a697e4ee45_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a53b6dabc1d021ae4b2ca3d2f8885731d" title="Reads a &quot;UTF&quot; string from the input buffer. " alt="" coords="128,5,223,32"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="271,5,337,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53b6dabc1d021ae4b2ca3d2f8885731d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* readUTFlen </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>enddata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a "UTF" string from the input buffer. </p>
<p>UTF as in the MQTT v3 spec which really means a length delimited string. So it reads the two byte length then the data according to that length. The end of the buffer is provided too, so we can prevent buffer overruns caused by an incorrect length. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the input buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">enddata</td><td>pointer to the end of the buffer not to be read beyond </td></tr>
    <tr><td class="paramname">len</td><td>returns the calculcated value of the length bytes read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an allocated C string holding the characters read, or NULL if the length read would have caused an overrun. </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_a53b6dabc1d021ae4b2ca3d2f8885731d_cgraph.png" border="0" usemap="#MQTTPacket_8c_a53b6dabc1d021ae4b2ca3d2f8885731d_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_a53b6dabc1d021ae4b2ca3d2f8885731d_cgraph" id="MQTTPacket_8c_a53b6dabc1d021ae4b2ca3d2f8885731d_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="148,5,215,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad29ec8b2fbf0ec0195621b44f8945923"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeChar </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes one character to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">c</td><td>the character to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a07aa0146eda3d32979142e7df8ad5fc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeInt </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>anInt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an integer as 2 bytes to an output buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">anInt</td><td>the integer to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af0fcaa11ac05ce448a433a53f9cae420"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writeUTF </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>pptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a "UTF" string to an output buffer. </p>
<p>Converts C string to length-delimited. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pptr</td><td>pointer to the output buffer - incremented by the number of bytes used &amp; returned </td></tr>
    <tr><td class="paramname">string</td><td>the C string to write </td></tr>
  </table>
  </dd>
</dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph.png" border="0" usemap="#MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph" alt=""/></div>
<map name="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph" id="MQTTPacket_8c_af0fcaa11ac05ce448a433a53f9cae420_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="129,5,197,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a210a7b616c27aa7247824022285da784"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pf new_packets[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">        NULL,   </div>
<div class="line">        NULL,   </div>
<div class="line">        <a class="code" href="MQTTPacketOut_8c.html#af55a19e28923b3d4d1559dfb883b7dce">MQTTPacket_connack</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a28c67e2b2543ca034289a4fdd52a0844">MQTTPacket_publish</a>,     </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a>, </div>
<div class="line">        NULL, </div>
<div class="line">        <a class="code" href="MQTTPacketOut_8c.html#a81d683a62081cc482b6958b4b4134b83">MQTTPacket_suback</a>, </div>
<div class="line">        NULL, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a612027487242fa6202caf62b500c9329">MQTTPacket_header_only</a>, </div>
<div class="line">        <a class="code" href="MQTTPacket_8c.html#a612027487242fa6202caf62b500c9329">MQTTPacket_header_only</a>, </div>
<div class="line">        MQTTPacket_header_only  </div>
<div class="line">}</div>
<div class="ttc" id="MQTTPacket_8c_html_a28c67e2b2543ca034289a4fdd52a0844"><div class="ttname"><a href="MQTTPacket_8c.html#a28c67e2b2543ca034289a4fdd52a0844">MQTTPacket_publish</a></div><div class="ttdeci">void * MQTTPacket_publish(unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create publish packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:482</div></div>
<div class="ttc" id="MQTTPacketOut_8c_html_a81d683a62081cc482b6958b4b4134b83"><div class="ttname"><a href="MQTTPacketOut_8c.html#a81d683a62081cc482b6958b4b4134b83">MQTTPacket_suback</a></div><div class="ttdeci">void * MQTTPacket_suback(unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create suback packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacketOut.c:209</div></div>
<div class="ttc" id="MQTTPacketOut_8c_html_af55a19e28923b3d4d1559dfb883b7dce"><div class="ttname"><a href="MQTTPacketOut_8c.html#af55a19e28923b3d4d1559dfb883b7dce">MQTTPacket_connack</a></div><div class="ttdeci">void * MQTTPacket_connack(unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create connack packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacketOut.c:120</div></div>
<div class="ttc" id="MQTTPacket_8c_html_a319cae61d71c918ec11e53da1120429f"><div class="ttname"><a href="MQTTPacket_8c.html#a319cae61d71c918ec11e53da1120429f">MQTTPacket_ack</a></div><div class="ttdeci">void * MQTTPacket_ack(unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create acknowledgement packets. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:649</div></div>
<div class="ttc" id="MQTTPacket_8c_html_a612027487242fa6202caf62b500c9329"><div class="ttname"><a href="MQTTPacket_8c.html#a612027487242fa6202caf62b500c9329">MQTTPacket_header_only</a></div><div class="ttdeci">void * MQTTPacket_header_only(unsigned char aHeader, char *data, size_t datalen)</div><div class="ttdoc">Function used in the new packets table to create packets which have only a header. </div><div class="ttdef"><b>Definition:</b> MQTTPacket.c:447</div></div>
</div><!-- fragment -->
<p>Array of functions to build packets, indexed according to packet code. </p>

</div>
</div>
<a class="anchor" id="adb1445ce2f1493e1fb728e2adce62c63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char* packet_names[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">        <span class="stringliteral">&quot;RESERVED&quot;</span>, <span class="stringliteral">&quot;CONNECT&quot;</span>, <span class="stringliteral">&quot;CONNACK&quot;</span>, <span class="stringliteral">&quot;PUBLISH&quot;</span>, <span class="stringliteral">&quot;PUBACK&quot;</span>, <span class="stringliteral">&quot;PUBREC&quot;</span>, <span class="stringliteral">&quot;PUBREL&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;PUBCOMP&quot;</span>, <span class="stringliteral">&quot;SUBSCRIBE&quot;</span>, <span class="stringliteral">&quot;SUBACK&quot;</span>, <span class="stringliteral">&quot;UNSUBSCRIBE&quot;</span>, <span class="stringliteral">&quot;UNSUBACK&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;PINGREQ&quot;</span>, <span class="stringliteral">&quot;PINGRESP&quot;</span>, <span class="stringliteral">&quot;DISCONNECT&quot;</span></div>
<div class="line">}</div>
</div><!-- fragment -->
<p><a class="el" href="structList.html" title="Structure to hold all data for one list. ">List</a> of the predefined MQTT v3 packet names. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 4 2016 12:02:58 for MQTT C Client Libraries Internals by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
