<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MQTT C Client Libraries Internals: MQTTPacketOut.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="pahologo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MQTT C Client Libraries Internals
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">MQTTPacketOut.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>functions to deal with reading and writing of MQTT packets from and to sockets  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;MQTTPacketOut.h&quot;</code><br />
<code>#include &quot;Log.h&quot;</code><br />
<code>#include &quot;StackTrace.h&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;Heap.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for MQTTPacketOut.c:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c__incl.png" border="0" usemap="#MQTTPacketOut_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba6be5f200140f3cf58c2fe7e6b8de67"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#aba6be5f200140f3cf58c2fe7e6b8de67">MQTTPacket_send_connect</a> (<a class="el" href="structClients.html">Clients</a> *client, int MQTTVersion)</td></tr>
<tr class="memdesc:aba6be5f200140f3cf58c2fe7e6b8de67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT CONNECT packet down a socket.  <a href="#aba6be5f200140f3cf58c2fe7e6b8de67">More...</a><br /></td></tr>
<tr class="separator:aba6be5f200140f3cf58c2fe7e6b8de67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55a19e28923b3d4d1559dfb883b7dce"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#af55a19e28923b3d4d1559dfb883b7dce">MQTTPacket_connack</a> (unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:af55a19e28923b3d4d1559dfb883b7dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create connack packets.  <a href="#af55a19e28923b3d4d1559dfb883b7dce">More...</a><br /></td></tr>
<tr class="separator:af55a19e28923b3d4d1559dfb883b7dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4b3402e224ac22ffbe74731f374fe0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#acf4b3402e224ac22ffbe74731f374fe0">MQTTPacket_send_pingreq</a> (<a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:acf4b3402e224ac22ffbe74731f374fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT PINGREQ packet down a socket.  <a href="#acf4b3402e224ac22ffbe74731f374fe0">More...</a><br /></td></tr>
<tr class="separator:acf4b3402e224ac22ffbe74731f374fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc835836eb89fa39815b0f96d659c59"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#addc835836eb89fa39815b0f96d659c59">MQTTPacket_send_subscribe</a> (<a class="el" href="structList.html">List</a> *topics, <a class="el" href="structList.html">List</a> *qoss, int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:addc835836eb89fa39815b0f96d659c59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT subscribe packet down a socket.  <a href="#addc835836eb89fa39815b0f96d659c59">More...</a><br /></td></tr>
<tr class="separator:addc835836eb89fa39815b0f96d659c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81d683a62081cc482b6958b4b4134b83"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#a81d683a62081cc482b6958b4b4134b83">MQTTPacket_suback</a> (unsigned char aHeader, char *data, size_t datalen)</td></tr>
<tr class="memdesc:a81d683a62081cc482b6958b4b4134b83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function used in the new packets table to create suback packets.  <a href="#a81d683a62081cc482b6958b4b4134b83">More...</a><br /></td></tr>
<tr class="separator:a81d683a62081cc482b6958b4b4134b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3735ac8da0da3b849a694912af9fdbfe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="MQTTPacketOut_8c.html#a3735ac8da0da3b849a694912af9fdbfe">MQTTPacket_send_unsubscribe</a> (<a class="el" href="structList.html">List</a> *topics, int msgid, int dup, <a class="el" href="structnetworkHandles.html">networkHandles</a> *net, const char *clientID)</td></tr>
<tr class="memdesc:a3735ac8da0da3b849a694912af9fdbfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MQTT unsubscribe packet down a socket.  <a href="#a3735ac8da0da3b849a694912af9fdbfe">More...</a><br /></td></tr>
<tr class="separator:a3735ac8da0da3b849a694912af9fdbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>functions to deal with reading and writing of MQTT packets from and to sockets </p>
<p>Some other related functions are in the <a class="el" href="structMQTTPacket.html" title="Data for a packet with header only. ">MQTTPacket</a> module </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af55a19e28923b3d4d1559dfb883b7dce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_connack </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create connack packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_af55a19e28923b3d4d1559dfb883b7dce_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_af55a19e28923b3d4d1559dfb883b7dce_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_af55a19e28923b3d4d1559dfb883b7dce_cgraph" id="MQTTPacketOut_8c_af55a19e28923b3d4d1559dfb883b7dce_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#aff1d10b221f5b4ce421b4c2588cbe511" title="Reads one character from the input buffer. " alt="" coords="212,5,293,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba6be5f200140f3cf58c2fe7e6b8de67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structClients.html">Clients</a> *&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>MQTTVersion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT CONNECT packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>a structure from which to get all the required values </td></tr>
    <tr><td class="paramname">MQTTVersion</td><td>the MQTT version to connect with </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_aba6be5f200140f3cf58c2fe7e6b8de67_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_aba6be5f200140f3cf58c2fe7e6b8de67_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_aba6be5f200140f3cf58c2fe7e6b8de67_cgraph" id="MQTTPacketOut_8c_aba6be5f200140f3cf58c2fe7e6b8de67_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#af0fcaa11ac05ce448a433a53f9cae420" title="Writes a &quot;UTF&quot; string to an output buffer. " alt="" coords="279,91,355,118"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="479,40,547,67"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#ad29ec8b2fbf0ec0195621b44f8945923" title="Writes one character to an output buffer. " alt="" coords="275,142,358,168"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="248,192,385,219"/><area shape="rect" id="node15" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1086,294,1131,320"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="436,218,589,244"/><area shape="rect" id="node7" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="479,268,546,295"/><area shape="rect" id="node8" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="433,91,592,118"/><area shape="rect" id="node12" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="447,167,578,194"/><area shape="rect" id="node9" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="884,15,983,42"/><area shape="rect" id="node11" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="657,40,816,67"/><area shape="rect" id="node10" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1045,15,1172,42"/><area shape="rect" id="node13" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="647,91,826,118"/><area shape="rect" id="node19" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="681,294,792,320"/><area shape="rect" id="node21" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="640,142,833,168"/><area shape="rect" id="node22" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="887,167,980,194"/><area shape="rect" id="node14" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="886,91,981,118"/><area shape="rect" id="node16" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1240,243,1387,270"/><area shape="rect" id="node17" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1256,294,1371,320"/><area shape="rect" id="node18" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1232,344,1395,371"/><area shape="rect" id="node20" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="881,294,985,320"/><area shape="rect" id="node23" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1033,167,1184,194"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf4b3402e224ac22ffbe74731f374fe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_pingreq </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT PINGREQ packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_acf4b3402e224ac22ffbe74731f374fe0_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_acf4b3402e224ac22ffbe74731f374fe0_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_acf4b3402e224ac22ffbe74731f374fe0_cgraph" id="MQTTPacketOut_8c_acf4b3402e224ac22ffbe74731f374fe0_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="245,233,383,260"/><area shape="rect" id="node12" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1083,284,1129,311"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="433,233,587,260"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="477,284,543,311"/><area shape="rect" id="node5" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="431,31,589,57"/><area shape="rect" id="node9" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="445,183,575,209"/><area shape="rect" id="node6" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="881,5,980,32"/><area shape="rect" id="node8" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="655,31,813,57"/><area shape="rect" id="node7" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1043,5,1169,32"/><area shape="rect" id="node10" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="645,81,823,108"/><area shape="rect" id="node16" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="679,233,789,260"/><area shape="rect" id="node18" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="637,183,831,209"/><area shape="rect" id="node19" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="884,157,977,184"/><area shape="rect" id="node11" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="883,81,978,108"/><area shape="rect" id="node13" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1237,233,1384,260"/><area shape="rect" id="node14" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1253,284,1368,311"/><area shape="rect" id="node15" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1229,335,1392,361"/><area shape="rect" id="node17" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="879,233,983,260"/><area shape="rect" id="node20" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1031,157,1181,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="addc835836eb89fa39815b0f96d659c59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structList.html">List</a> *&#160;</td>
          <td class="paramname"><em>topics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structList.html">List</a> *&#160;</td>
          <td class="paramname"><em>qoss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT subscribe packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>list of topics </td></tr>
    <tr><td class="paramname">qoss</td><td>list of corresponding QoSs </td></tr>
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_addc835836eb89fa39815b0f96d659c59_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_addc835836eb89fa39815b0f96d659c59_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_addc835836eb89fa39815b0f96d659c59_cgraph" id="MQTTPacketOut_8c_addc835836eb89fa39815b0f96d659c59_cgraph">
<area shape="rect" id="node2" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1056,17,1183,44"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="489,473,557,500"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#af0fcaa11ac05ce448a433a53f9cae420" title="Writes a &quot;UTF&quot; string to an output buffer. " alt="" coords="289,499,365,525"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#ad29ec8b2fbf0ec0195621b44f8945923" title="Writes one character to an output buffer. " alt="" coords="286,549,369,576"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="259,195,396,221"/><area shape="rect" id="node15" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1097,245,1142,272"/><area shape="rect" id="node7" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="447,195,600,221"/><area shape="rect" id="node8" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="490,144,557,171"/><area shape="rect" id="node9" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="444,93,603,120"/><area shape="rect" id="node12" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="458,245,589,272"/><area shape="rect" id="node10" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="895,43,993,69"/><area shape="rect" id="node11" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="668,93,827,120"/><area shape="rect" id="node13" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="658,144,837,171"/><area shape="rect" id="node19" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="692,245,803,272"/><area shape="rect" id="node21" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="651,296,844,323"/><area shape="rect" id="node22" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="897,321,991,348"/><area shape="rect" id="node14" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="897,144,991,171"/><area shape="rect" id="node16" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1251,195,1397,221"/><area shape="rect" id="node17" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1267,245,1381,272"/><area shape="rect" id="node18" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1243,296,1405,323"/><area shape="rect" id="node20" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="892,245,996,272"/><area shape="rect" id="node23" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1044,321,1195,348"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3735ac8da0da3b849a694912af9fdbfe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int MQTTPacket_send_unsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structList.html">List</a> *&#160;</td>
          <td class="paramname"><em>topics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>msgid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structnetworkHandles.html">networkHandles</a> *&#160;</td>
          <td class="paramname"><em>net</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>clientID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an MQTT unsubscribe packet down a socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topics</td><td>list of topics </td></tr>
    <tr><td class="paramname">msgid</td><td>the MQTT message id to use </td></tr>
    <tr><td class="paramname">dup</td><td>boolean - whether to set the MQTT DUP flag </td></tr>
    <tr><td class="paramname">socket</td><td>the open socket to send the data to </td></tr>
    <tr><td class="paramname">clientID</td><td>the string client identifier, only used for tracing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the completion code (e.g. TCPSOCKET_COMPLETE) </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_a3735ac8da0da3b849a694912af9fdbfe_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_a3735ac8da0da3b849a694912af9fdbfe_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_a3735ac8da0da3b849a694912af9fdbfe_cgraph" id="MQTTPacketOut_8c_a3735ac8da0da3b849a694912af9fdbfe_cgraph">
<area shape="rect" id="node2" href="LinkedList_8c.html#a7c6fba7f4b569c69829676bed2852ee9" title="Forward iteration through a list. " alt="" coords="1072,17,1199,44"/><area shape="rect" id="node3" href="MQTTPacket_8c.html#a07aa0146eda3d32979142e7df8ad5fc3" title="Writes an integer as 2 bytes to an output buffer. " alt="" coords="505,473,573,500"/><area shape="rect" id="node4" href="MQTTPacket_8c.html#af0fcaa11ac05ce448a433a53f9cae420" title="Writes a &quot;UTF&quot; string to an output buffer. " alt="" coords="305,448,381,475"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#a561ff1cb747d27795d1f4fd985e78588" title="Sends an MQTT packet in one system call write. " alt="" coords="275,195,412,221"/><area shape="rect" id="node14" href="Log_8c.html#a87f2e36f80963ac280f67b9ccdf03d0a" title="Log a message. " alt="" coords="1113,245,1158,272"/><area shape="rect" id="node6" href="MQTTPacket_8c.html#aadd77a4fa1b2d5c7791e3542c56af856" title="Encodes the message length according to the MQTT algorithm. " alt="" coords="463,195,616,221"/><area shape="rect" id="node7" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="506,144,573,171"/><area shape="rect" id="node8" href="MQTTPersistence_8c.html#a41168618b27d3c1ca74d6a7c4ab26214" title="Adds a record to the persistent store. " alt="" coords="460,93,619,120"/><area shape="rect" id="node11" href="Socket_8c.html#a05dbad60845044788d3b239df98281e3" title="Attempts to write a series of buffers to a socket in one system call so that they are sent as one pac..." alt="" coords="474,245,605,272"/><area shape="rect" id="node9" href="LinkedList_8c.html#acad319e9ce896ff1fff30ddbeb06d22d" title="Finds an element in a list by comparing the content or pointer to the content. " alt="" coords="911,43,1009,69"/><area shape="rect" id="node10" href="Clients_8c.html#a82dc4e265fecdaea2810ccdeab0abf52" title="List callback function for comparing clients by socket. " alt="" coords="684,93,843,120"/><area shape="rect" id="node12" href="Socket_8c.html#ae95673b434f2c489ecefe4688c80be2d" title="Indicate whether any data is pending outbound for a socket. " alt="" coords="674,144,853,171"/><area shape="rect" id="node18" href="Socket_8c.html#aec4ee8ecb248d29d315d2624a88ed1c3" title="Attempts to write a series of iovec buffers to a socket in one system call so that they are sent as o..." alt="" coords="708,245,819,272"/><area shape="rect" id="node20" href="SocketBuffer_8c.html#a5c1cce77d5ba528483bbb108f851db2f" title="A socket write was interrupted so store the remaining data. " alt="" coords="667,296,860,323"/><area shape="rect" id="node21" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="913,321,1007,348"/><area shape="rect" id="node13" href="LinkedList_8c.html#a1738915a6d6f10022e9ee1481c0ae452" title="List callback function for comparing integers. " alt="" coords="913,144,1007,171"/><area shape="rect" id="node15" href="Thread_8c.html#a7e92185eb22775c76e1b6b8865468f17" title="Lock a mutex which has already been created, block until ready. " alt="" coords="1267,195,1413,221"/><area shape="rect" id="node16" href="Messages_8c.html#a29732d9f9c438e569ddc89a5ee61501c" title="Get a log message by its index. " alt="" coords="1283,245,1397,272"/><area shape="rect" id="node17" href="Thread_8c.html#a5faf758226199e7cf93f6b489aca07f7" title="Unlock a mutex which has already been locked. " alt="" coords="1259,296,1421,323"/><area shape="rect" id="node19" href="Socket_8c.html#a47824ad5afba267b9488150e1f7e8610" title="Gets the specific error corresponding to SOCKET_ERROR. " alt="" coords="908,245,1012,272"/><area shape="rect" id="node22" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="1060,321,1211,348"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81d683a62081cc482b6958b4b4134b83"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* MQTTPacket_suback </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>aHeader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function used in the new packets table to create suback packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aHeader</td><td>the MQTT header byte </td></tr>
    <tr><td class="paramname">data</td><td>the rest of the packet </td></tr>
    <tr><td class="paramname">datalen</td><td>the length of the rest of the packet </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the packet structure </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="MQTTPacketOut_8c_a81d683a62081cc482b6958b4b4134b83_cgraph.png" border="0" usemap="#MQTTPacketOut_8c_a81d683a62081cc482b6958b4b4134b83_cgraph" alt=""/></div>
<map name="MQTTPacketOut_8c_a81d683a62081cc482b6958b4b4134b83_cgraph" id="MQTTPacketOut_8c_a81d683a62081cc482b6958b4b4134b83_cgraph">
<area shape="rect" id="node2" href="MQTTPacket_8c.html#a132d2d5b304d37cd2348a973f7b315de" title="Calculates an integer from two bytes read from the input buffer. " alt="" coords="218,5,285,32"/><area shape="rect" id="node3" href="LinkedList_8c.html#a27e2cccab9752618ead91eafbe2a9a46" title="Allocates and initializes a new list structure. " alt="" coords="204,56,299,83"/><area shape="rect" id="node5" href="MQTTPacket_8c.html#aff1d10b221f5b4ce421b4c2588cbe511" title="Reads one character from the input buffer. " alt="" coords="211,107,292,133"/><area shape="rect" id="node6" href="LinkedList_8c.html#ad02ee8fbea38b825280772de89529d20" title="Append an item to a list. " alt="" coords="205,157,298,184"/><area shape="rect" id="node4" href="LinkedList_8c.html#aa254fb1eab8e30d0e03859b333dc22ed" title="Sets a list structure to empty &#45; all null values. " alt="" coords="385,56,459,83"/><area shape="rect" id="node7" href="LinkedList_8c.html#a321a3598d6979c7af3f995b77ea2cec3" title="Append an already allocated ListElement and content to a list. " alt="" coords="347,157,497,184"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 4 2016 12:02:58 for MQTT C Client Libraries Internals by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
